config:
  outputs: |
    [OUTPUT]
        Name            influxdb
        Match           *
        Host            influxdb.monitoring-stack.svc.cluster.local
        Port            8086
        Database        fluentbit
        Auto_Create_DB  On
        Retry_Limit     5
        # In production, add auth
        # HTTP_User       admin
        # HTTP_Passwd     ${INFLUXDB_PASSWORD}
  service: |
    [SERVICE]
        Flush        5
        Daemon       Off
        Log_Level    info
        Parsers_File parsers.conf
resources:
  requests:
    memory: "256Mi"
    cpu: "200m"
  limits:
    memory: "512Mi"
    cpu: "1"
tolerations:
  - key: "monitoring"
    operator: "Equal"
    value: "true"
    effect: "NoSchedule"
podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "2020"

